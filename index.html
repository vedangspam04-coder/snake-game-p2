<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#090d1f" />
    <link rel="manifest" href="./manifest.webmanifest" />
    <title>Snake</title>
    <style>
      :root {
        --bg-0: #050816;
        --bg-1: #0a0f2a;
        --panel: rgba(12, 21, 48, 0.72);
        --panel-border: rgba(113, 185, 255, 0.35);
        --text: #dff1ff;
        --muted: #86a6c8;
        --snake-core: #3ef5dc;
        --snake-edge: #4ec9ff;
        --snake-head: #8ffaff;
        --food-core: #b884ff;
        --food-glow: #7c5bff;
        --accent: #44beff;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        font-family: "Trebuchet MS", "Segoe UI", sans-serif;
        letter-spacing: 0.03em;
        color: var(--text);
        background:
          radial-gradient(circle at 12% 14%, rgba(77, 96, 255, 0.23), transparent 32%),
          radial-gradient(circle at 85% 88%, rgba(57, 255, 232, 0.18), transparent 30%),
          linear-gradient(165deg, var(--bg-0), var(--bg-1));
      }

      .page {
        max-width: 560px;
        margin: 0 auto;
        padding: 18px 16px 28px;
      }

      .meta {
        display: flex;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 14px;
      }

      .panel {
        flex: 1;
        padding: 10px 12px;
        border: 1px solid var(--panel-border);
        border-radius: 12px;
        background: linear-gradient(180deg, rgba(25, 42, 87, 0.65), var(--panel));
        box-shadow:
          inset 0 1px 0 rgba(167, 228, 255, 0.2),
          0 0 18px rgba(48, 162, 255, 0.12);
      }

      .label {
        color: var(--muted);
        font-size: 11px;
        text-transform: uppercase;
        display: block;
        margin-bottom: 4px;
      }

      .value {
        font-size: 20px;
        font-weight: 700;
        color: #ebf8ff;
        text-shadow: 0 0 10px rgba(68, 190, 255, 0.4);
      }

      .setup {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 10px;
        margin-bottom: 12px;
      }

      .setup .panel {
        padding: 9px 10px;
      }

      .setup select {
        width: 100%;
        border: 1px solid rgba(120, 188, 255, 0.35);
        border-radius: 8px;
        background: rgba(10, 20, 44, 0.85);
        color: var(--text);
        padding: 7px 8px;
      }

      .setup-actions {
        margin-bottom: 12px;
      }

      .board {
        position: relative;
        display: grid;
        width: 100%;
        height: min(80vw, 520px);
        aspect-ratio: 1 / 1;
        padding: 6px;
        border-radius: 18px;
        border: 1px solid var(--panel-border);
        background:
          linear-gradient(180deg, rgba(15, 27, 56, 0.9), rgba(10, 17, 35, 0.9)),
          repeating-linear-gradient(
            0deg,
            rgba(83, 147, 255, 0.06),
            rgba(83, 147, 255, 0.06) 1px,
            transparent 1px,
            transparent 22px
          ),
          repeating-linear-gradient(
            90deg,
            rgba(83, 147, 255, 0.06),
            rgba(83, 147, 255, 0.06) 1px,
            transparent 1px,
            transparent 22px
          );
        box-shadow:
          inset 0 0 30px rgba(53, 117, 255, 0.25),
          0 0 24px rgba(45, 197, 255, 0.15);
      }

      .cell {
        border: 1px solid rgba(134, 195, 255, 0.09);
        border-radius: 5px;
        background: rgba(12, 24, 48, 0.45);
        position: relative;
        overflow: hidden;
      }

      .cell.snake {
        border-color: rgba(118, 255, 231, 0.22);
        box-shadow:
          0 0 14px rgba(50, 249, 228, 0.5),
          0 0 24px rgba(64, 186, 255, 0.22);
      }

      .cell.snake::before {
        content: "";
        position: absolute;
        inset: 1px;
        border-radius: 8px;
        background:
          radial-gradient(circle at 28% 28%, rgba(230, 255, 251, 0.68), transparent 42%),
          repeating-radial-gradient(
            circle at 52% 52%,
            rgba(194, 255, 242, 0.14) 0 1px,
            rgba(22, 196, 171, 0.04) 1px 4px
          ),
          linear-gradient(152deg, rgba(70, 255, 219, 0.95), rgba(18, 143, 147, 0.96));
      }

      .cell.snake::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 8px;
        background:
          linear-gradient(130deg, rgba(166, 255, 237, 0.26), transparent 44%),
          linear-gradient(300deg, rgba(69, 224, 255, 0.2), transparent 50%),
          radial-gradient(circle at 55% 56%, rgba(0, 255, 209, 0.13), transparent 55%);
        box-shadow:
          inset 0 0 7px rgba(133, 255, 234, 0.45),
          inset 0 0 14px rgba(63, 196, 255, 0.35);
      }

      .cell.snake-connect-up::before {
        border-top-left-radius: 2px;
        border-top-right-radius: 2px;
      }

      .cell.snake-connect-down::before {
        border-bottom-left-radius: 2px;
        border-bottom-right-radius: 2px;
      }

      .cell.snake-connect-left::before {
        border-top-left-radius: 2px;
        border-bottom-left-radius: 2px;
      }

      .cell.snake-connect-right::before {
        border-top-right-radius: 2px;
        border-bottom-right-radius: 2px;
      }

      .cell.snake-tail::after {
        background:
          linear-gradient(130deg, rgba(158, 255, 236, 0.22), transparent 44%),
          radial-gradient(circle at 55% 56%, rgba(0, 255, 209, 0.1), transparent 62%);
      }

      .cell.snake-head {
        border-color: rgba(180, 251, 255, 0.66);
        box-shadow:
          0 0 20px rgba(125, 251, 255, 0.85),
          0 0 34px rgba(73, 185, 255, 0.5);
      }

      .cell.snake-head::before {
        background:
          radial-gradient(circle at 30% 26%, rgba(255, 255, 255, 0.8), transparent 36%),
          repeating-radial-gradient(
            circle at 52% 52%,
            rgba(205, 255, 247, 0.16) 0 1px,
            rgba(18, 171, 162, 0.05) 1px 4px
          ),
          linear-gradient(145deg, var(--snake-head), #20badf);
      }

      .cell.snake-head::after {
        background:
          radial-gradient(circle at 34% 35%, rgba(193, 255, 255, 0.95), transparent 18%),
          radial-gradient(circle at 66% 35%, rgba(193, 255, 255, 0.95), transparent 18%),
          linear-gradient(130deg, rgba(173, 253, 255, 0.3), transparent 42%),
          radial-gradient(circle at 58% 62%, rgba(67, 245, 255, 0.24), transparent 56%);
        box-shadow:
          inset 0 0 8px rgba(133, 255, 245, 0.55),
          inset 0 0 15px rgba(66, 196, 255, 0.4);
      }

      .cell.snake-head-up::after {
        transform: rotate(0deg);
      }

      .cell.snake-head-right::after {
        transform: rotate(90deg);
      }

      .cell.snake-head-down::after {
        transform: rotate(180deg);
      }

      .cell.snake-head-left::after {
        transform: rotate(270deg);
      }

      .cell.trail {
        border-color: transparent;
        background: transparent;
      }

      .cell.trail::before {
        content: "";
        position: absolute;
        inset: 3px;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(83, 255, 226, 0.55), rgba(83, 255, 226, 0.02) 70%);
      }

      .cell.trail-3::before {
        opacity: 0.45;
      }

      .cell.trail-2::before {
        opacity: 0.28;
      }

      .cell.trail-1::before {
        opacity: 0.16;
      }

      .cell.food {
        border-color: rgba(186, 149, 255, 0.7);
        background:
          radial-gradient(circle at 35% 32%, #f7ecff, rgba(247, 236, 255, 0.45) 26%, transparent 50%),
          radial-gradient(circle at 58% 58%, var(--food-core), #5634ef 78%);
        box-shadow:
          0 0 18px rgba(154, 116, 255, 0.9),
          0 0 30px rgba(101, 63, 255, 0.7);
      }

      .cell.food-silver {
        border-color: rgba(206, 239, 255, 0.85);
        background:
          radial-gradient(circle at 38% 30%, #ffffff, rgba(255, 255, 255, 0.6) 24%, transparent 52%),
          radial-gradient(circle at 58% 58%, #b4dbf8, #75a6cc 80%);
        box-shadow:
          0 0 20px rgba(202, 238, 255, 0.88),
          0 0 28px rgba(149, 201, 241, 0.75);
      }

      .cell.food-golden {
        border-color: rgba(255, 234, 168, 0.9);
        background:
          radial-gradient(circle at 38% 30%, #fff7cf, rgba(255, 247, 207, 0.62) 24%, transparent 52%),
          radial-gradient(circle at 58% 58%, #ffd86d, #d49e2e 80%);
        box-shadow:
          0 0 22px rgba(255, 224, 130, 0.9),
          0 0 32px rgba(245, 176, 45, 0.76);
      }

      .overlay {
        position: absolute;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 5;
        background: rgba(6, 12, 30, 0.35);
      }

      .overlay.active {
        display: flex;
      }

      .countdown-circle {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        border: 2px solid rgba(120, 208, 255, 0.65);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 42px;
        font-weight: 700;
        background: rgba(11, 26, 56, 0.84);
        box-shadow: 0 0 24px rgba(70, 194, 255, 0.45);
      }

      .actions {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 14px;
      }

      button {
        border: 1px solid rgba(120, 188, 255, 0.4);
        border-radius: 10px;
        background: linear-gradient(180deg, rgba(29, 52, 104, 0.84), rgba(14, 28, 63, 0.86));
        color: var(--text);
        padding: 9px 13px;
        font-weight: 600;
        letter-spacing: 0.02em;
        cursor: pointer;
        box-shadow:
          inset 0 1px 0 rgba(198, 236, 255, 0.24),
          0 0 14px rgba(54, 163, 255, 0.16);
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
      }

      button:hover {
        border-color: rgba(128, 225, 255, 0.78);
        box-shadow:
          inset 0 1px 0 rgba(215, 245, 255, 0.32),
          0 0 18px rgba(45, 195, 255, 0.38);
      }

      .controls {
        margin-top: 12px;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
      }

      .controls .blank {
        visibility: hidden;
      }

      .hint {
        margin-top: 10px;
        color: var(--muted);
        font-size: 13px;
      }

      .next-button {
        width: 100%;
        margin-top: 14px;
        font-size: 20px;
        padding: 12px 14px;
      }

      .stats {
        margin-top: 12px;
      }

      .stats .value-strong {
        font-size: 30px;
        font-weight: 800;
        color: #ffffff;
        text-shadow: 0 0 14px rgba(104, 219, 255, 0.62);
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 10px;
      }

      .hidden {
        display: none !important;
      }

      @media (max-width: 520px) {
        .value {
          font-size: 18px;
        }

        .setup {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <main class="page">
      <section class="meta">
        <div class="panel">
          <span class="label">Score</span>
          <strong class="value" data-score>0</strong>
        </div>
        <div class="panel">
          <span class="label">Status</span>
          <strong class="value" data-status>Running</strong>
        </div>
        <div class="panel">
          <span class="label">Time</span>
          <strong class="value" data-time>00:00</strong>
        </div>
      </section>

      <section class="setup" data-setup>
        <div class="panel">
          <span class="label">Time</span>
          <select data-time-select>
            <option value="60">1 min</option>
            <option value="120">2 min</option>
            <option value="180">3 min</option>
            <option value="300">5 min</option>
            <option value="600">10 min</option>
          </select>
        </div>
        <div class="panel">
          <span class="label">Speed</span>
          <select data-speed-select>
            <option value="slow">Slow-mo</option>
            <option value="speedy" selected>Speedy</option>
            <option value="rocket">Rocket</option>
          </select>
        </div>
        <div class="panel">
          <span class="label">Controls</span>
          <select data-control-select>
            <option value="buttons" selected>Buttons/Keys</option>
            <option value="swipe">Swipe</option>
          </select>
        </div>
      </section>

      <section class="setup-actions" data-setup>
        <button type="button" data-start>Start</button>
      </section>

      <section class="board" data-game-board aria-label="Snake board">
        <div class="overlay" data-countdown-overlay>
          <div class="countdown-circle" data-countdown-value>3</div>
        </div>
      </section>

      <section class="actions">
        <button type="button" data-pause>Pause/Resume (Space)</button>
        <button type="button" data-restart>Restart (R)</button>
        <button type="button" data-install hidden>Install App</button>
      </section>

      <button type="button" class="next-button hidden" data-next>Next</button>

      <section class="stats hidden panel" data-stats>
        <span class="label">Run Stats</span>
        <div class="stats-grid">
          <div>
            <span class="label">Time Played</span>
            <strong class="value" data-stat-time>0s</strong>
          </div>
          <div>
            <span class="label">Speed</span>
            <strong class="value" data-stat-speed>Speedy</strong>
          </div>
          <div>
            <span class="label">Silver Collected</span>
            <strong class="value" data-stat-silver>0</strong>
          </div>
          <div>
            <span class="label">Golden Collected</span>
            <strong class="value" data-stat-golden>0</strong>
          </div>
          <div>
            <span class="label">Score</span>
            <strong class="value-strong" data-stat-score>0</strong>
          </div>
        </div>
      </section>

      <section class="controls" aria-label="Direction controls">
        <span class="blank">.</span>
        <button type="button" data-action="up">Up</button>
        <span class="blank">.</span>
        <button type="button" data-action="left">Left</button>
        <span class="blank">.</span>
        <button type="button" data-action="right">Right</button>
        <span class="blank">.</span>
        <button type="button" data-action="down">Down</button>
        <span class="blank">.</span>
      </section>

      <p class="hint">Controls: Arrow keys or WASD. Install App is available in supported browsers.</p>
    </main>

    <script type="module" src="./src/main.js"></script>
  </body>
</html>
